                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.4 #9329 (Linux)
                              4 ; This file was generated Sun Feb  7 16:12:11 2016
                              5 ;--------------------------------------------------------
                              6 	.module depot
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _drawMenu
                             13 	.globl _putM2
                             14 	.globl _putM0
                             15 	.globl _floorf
                             16 	.globl _cpct_getScreenPtr
                             17 	.globl _cpct_drawSolidBox
                             18 	.globl _cpct_drawSprite
                             19 	.globl _cpct_px2byteM0
                             20 	.globl _cpct_isKeyPressed
                             21 	.globl _cpct_scanKeyboard
                             22 	.globl _cpct_memset
                             23 	.globl _railroadDepot
                             24 	.globl _drawLocomotive
                             25 	.globl _buyLocomotive
                             26 ;--------------------------------------------------------
                             27 ; special function registers
                             28 ;--------------------------------------------------------
                             29 ;--------------------------------------------------------
                             30 ; ram data
                             31 ;--------------------------------------------------------
                             32 	.area _DATA
                             33 ;--------------------------------------------------------
                             34 ; ram data
                             35 ;--------------------------------------------------------
                             36 	.area _INITIALIZED
                             37 ;--------------------------------------------------------
                             38 ; absolute external ram data
                             39 ;--------------------------------------------------------
                             40 	.area _DABS (ABS)
                             41 ;--------------------------------------------------------
                             42 ; global & static initialisations
                             43 ;--------------------------------------------------------
                             44 	.area _HOME
                             45 	.area _GSINIT
                             46 	.area _GSFINAL
                             47 	.area _GSINIT
                             48 ;--------------------------------------------------------
                             49 ; Home
                             50 ;--------------------------------------------------------
                             51 	.area _HOME
                             52 	.area _HOME
                             53 ;--------------------------------------------------------
                             54 ; code
                             55 ;--------------------------------------------------------
                             56 	.area _CODE
                             57 ;src/game/depot.c:3: void railroadDepot()
                             58 ;	---------------------------------
                             59 ; Function railroadDepot
                             60 ; ---------------------------------
   0000                      61 _railroadDepot::
   0000 DD E5         [15]   62 	push	ix
   0002 DD 21 00 00   [14]   63 	ld	ix,#0
   0006 DD 39         [15]   64 	add	ix,sp
   0008 F5            [11]   65 	push	af
   0009 F5            [11]   66 	push	af
   000A 3B            [ 6]   67 	dec	sp
                             68 ;src/game/depot.c:5: u8 exit=0;
   000B DD 36 FF 00   [19]   69 	ld	-1 (ix),#0x00
                             70 ;src/game/depot.c:7: cpct_clearScreen(0b11111111);
   000F 21 00 40      [10]   71 	ld	hl,#0x4000
   0012 E5            [11]   72 	push	hl
   0013 3E FF         [ 7]   73 	ld	a,#0xFF
   0015 F5            [11]   74 	push	af
   0016 33            [ 6]   75 	inc	sp
   0017 26 C0         [ 7]   76 	ld	h, #0xC0
   0019 E5            [11]   77 	push	hl
   001A CDr00r00      [17]   78 	call	_cpct_memset
                             79 ;src/game/depot.c:9: do
   001D                      80 00108$:
                             81 ;src/game/depot.c:11: cpct_scanKeyboard(); 
   001D CDr00r00      [17]   82 	call	_cpct_scanKeyboard
                             83 ;src/game/depot.c:13: if ( cpct_isKeyPressed(Key_Esc) )
   0020 21 08 04      [10]   84 	ld	hl,#0x0408
   0023 CDr00r00      [17]   85 	call	_cpct_isKeyPressed
   0026 7D            [ 4]   86 	ld	a,l
   0027 B7            [ 4]   87 	or	a, a
   0028 28 06         [12]   88 	jr	Z,00106$
                             89 ;src/game/depot.c:14: exit=1;
   002A DD 36 FF 01   [19]   90 	ld	-1 (ix),#0x01
   002E 18 2F         [12]   91 	jr	00109$
   0030                      92 00106$:
                             93 ;src/game/depot.c:15: else if(cpct_isKeyPressed(Key_Return) )
   0030 21 02 04      [10]   94 	ld	hl,#0x0402
   0033 CDr00r00      [17]   95 	call	_cpct_isKeyPressed
   0036 7D            [ 4]   96 	ld	a,l
   0037 B7            [ 4]   97 	or	a, a
   0038 28 25         [12]   98 	jr	Z,00109$
                             99 ;src/game/depot.c:17: const char *txtMenuChoice[] = { 
   003A 21 00 00      [10]  100 	ld	hl,#0x0000
   003D 39            [11]  101 	add	hl,sp
   003E 5D            [ 4]  102 	ld	e,l
   003F 54            [ 4]  103 	ld	d,h
   0040 36r6A         [10]  104 	ld	(hl),#<(___str_0)
   0042 23            [ 6]  105 	inc	hl
   0043 36s00         [10]  106 	ld	(hl),#>(___str_0)
   0045 6B            [ 4]  107 	ld	l, e
   0046 62            [ 4]  108 	ld	h, d
   0047 23            [ 6]  109 	inc	hl
   0048 23            [ 6]  110 	inc	hl
   0049 36r7B         [10]  111 	ld	(hl),#<(___str_1)
   004B 23            [ 6]  112 	inc	hl
   004C 36s00         [10]  113 	ld	(hl),#>(___str_1)
                            114 ;src/game/depot.c:21: u8 menuChoice = drawMenu(txtMenuChoice,2);
   004E 3E 02         [ 7]  115 	ld	a,#0x02
   0050 F5            [11]  116 	push	af
   0051 33            [ 6]  117 	inc	sp
   0052 D5            [11]  118 	push	de
   0053 CDr00r00      [17]  119 	call	_drawMenu
   0056 F1            [10]  120 	pop	af
   0057 33            [ 6]  121 	inc	sp
   0058 7D            [ 4]  122 	ld	a,l
                            123 ;src/game/depot.c:23: if(menuChoice == 0)
   0059 B7            [ 4]  124 	or	a, a
   005A 20 03         [12]  125 	jr	NZ,00109$
                            126 ;src/game/depot.c:24: buyLocomotive();
   005C CDrD9r01      [17]  127 	call	_buyLocomotive
   005F                     128 00109$:
                            129 ;src/game/depot.c:28: while(!exit);
   005F DD 7E FF      [19]  130 	ld	a,-1 (ix)
   0062 B7            [ 4]  131 	or	a, a
   0063 28 B8         [12]  132 	jr	Z,00108$
   0065 DD F9         [10]  133 	ld	sp, ix
   0067 DD E1         [14]  134 	pop	ix
   0069 C9            [10]  135 	ret
   006A                     136 ___str_0:
   006A 42 75 79 20 61 20   137 	.ascii "Buy a locomotive"
        6C 6F 63 6F 6D 6F
        74 69 76 65
   007A 00                  138 	.db 0x00
   007B                     139 ___str_1:
   007B 42 61 63 6B 20 74   140 	.ascii "Back to depot"
        6F 20 64 65 70 6F
        74
   0088 00                  141 	.db 0x00
                            142 ;src/game/depot.c:31: void drawLocomotive(u8 i, u8 iSelect)
                            143 ;	---------------------------------
                            144 ; Function drawLocomotive
                            145 ; ---------------------------------
   0089                     146 _drawLocomotive::
   0089 DD E5         [15]  147 	push	ix
   008B DD 21 00 00   [14]  148 	ld	ix,#0
   008F DD 39         [15]  149 	add	ix,sp
   0091 21 F7 FF      [10]  150 	ld	hl,#-9
   0094 39            [11]  151 	add	hl,sp
   0095 F9            [ 6]  152 	ld	sp,hl
                            153 ;src/game/depot.c:34: p_video = cpct_getScreenPtr(SCR_VMEM, 5+25*floorf(i/4), 30+40*(i%4));
   0096 DD 7E 04      [19]  154 	ld	a,4 (ix)
   0099 E6 03         [ 7]  155 	and	a, #0x03
   009B 4F            [ 4]  156 	ld	c,a
   009C 87            [ 4]  157 	add	a, a
   009D 87            [ 4]  158 	add	a, a
   009E 81            [ 4]  159 	add	a, c
   009F 87            [ 4]  160 	add	a, a
   00A0 87            [ 4]  161 	add	a, a
   00A1 87            [ 4]  162 	add	a, a
   00A2 DD 77 F7      [19]  163 	ld	-9 (ix), a
   00A5 C6 1E         [ 7]  164 	add	a, #0x1E
   00A7 DD 77 FF      [19]  165 	ld	-1 (ix),a
   00AA DD 7E 04      [19]  166 	ld	a,4 (ix)
   00AD 0F            [ 4]  167 	rrca
   00AE 0F            [ 4]  168 	rrca
   00AF E6 3F         [ 7]  169 	and	a,#0x3F
   00B1 DD 77 FE      [19]  170 	ld	-2 (ix), a
   00B4 F5            [11]  171 	push	af
   00B5 33            [ 6]  172 	inc	sp
   00B6 CDr00r00      [17]  173 	call	___uchar2fs
   00B9 33            [ 6]  174 	inc	sp
   00BA DD 72 FD      [19]  175 	ld	-3 (ix),d
   00BD DD 73 FC      [19]  176 	ld	-4 (ix),e
   00C0 DD 74 FB      [19]  177 	ld	-5 (ix),h
   00C3 DD 75 FA      [19]  178 	ld	-6 (ix),l
   00C6 DD 6E FC      [19]  179 	ld	l,-4 (ix)
   00C9 DD 66 FD      [19]  180 	ld	h,-3 (ix)
   00CC E5            [11]  181 	push	hl
   00CD DD 6E FA      [19]  182 	ld	l,-6 (ix)
   00D0 DD 66 FB      [19]  183 	ld	h,-5 (ix)
   00D3 E5            [11]  184 	push	hl
   00D4 CDr00r00      [17]  185 	call	_floorf
   00D7 F1            [10]  186 	pop	af
   00D8 F1            [10]  187 	pop	af
   00D9 EB            [ 4]  188 	ex	de, hl
   00DA E5            [11]  189 	push	hl
   00DB D5            [11]  190 	push	de
   00DC 21 C8 41      [10]  191 	ld	hl,#0x41C8
   00DF E5            [11]  192 	push	hl
   00E0 21 00 00      [10]  193 	ld	hl,#0x0000
   00E3 E5            [11]  194 	push	hl
   00E4 CDr00r00      [17]  195 	call	___fsmul
   00E7 F1            [10]  196 	pop	af
   00E8 F1            [10]  197 	pop	af
   00E9 F1            [10]  198 	pop	af
   00EA F1            [10]  199 	pop	af
   00EB 4D            [ 4]  200 	ld	c,l
   00EC 44            [ 4]  201 	ld	b,h
   00ED 21 A0 40      [10]  202 	ld	hl,#0x40A0
   00F0 E5            [11]  203 	push	hl
   00F1 21 00 00      [10]  204 	ld	hl,#0x0000
   00F4 E5            [11]  205 	push	hl
   00F5 D5            [11]  206 	push	de
   00F6 C5            [11]  207 	push	bc
   00F7 CDr00r00      [17]  208 	call	___fsadd
   00FA F1            [10]  209 	pop	af
   00FB F1            [10]  210 	pop	af
   00FC F1            [10]  211 	pop	af
   00FD F1            [10]  212 	pop	af
   00FE D5            [11]  213 	push	de
   00FF E5            [11]  214 	push	hl
   0100 CDr00r00      [17]  215 	call	___fs2uchar
   0103 F1            [10]  216 	pop	af
   0104 F1            [10]  217 	pop	af
   0105 55            [ 4]  218 	ld	d,l
   0106 DD 7E FF      [19]  219 	ld	a,-1 (ix)
   0109 F5            [11]  220 	push	af
   010A 33            [ 6]  221 	inc	sp
   010B D5            [11]  222 	push	de
   010C 33            [ 6]  223 	inc	sp
   010D 21 00 C0      [10]  224 	ld	hl,#0xC000
   0110 E5            [11]  225 	push	hl
   0111 CDr00r00      [17]  226 	call	_cpct_getScreenPtr
                            227 ;src/game/depot.c:38: cpct_drawSolidBox(p_video, cpct_px2byteM0(5,5), 22, 22);
   0114 DD 75 F8      [19]  228 	ld	-8 (ix),l
   0117 DD 74 F9      [19]  229 	ld	-7 (ix),h
                            230 ;src/game/depot.c:37: if(i==iSelect)
   011A DD 7E 04      [19]  231 	ld	a,4 (ix)
   011D DD 96 05      [19]  232 	sub	a, 5 (ix)
   0120 20 1D         [12]  233 	jr	NZ,00102$
                            234 ;src/game/depot.c:38: cpct_drawSolidBox(p_video, cpct_px2byteM0(5,5), 22, 22);
   0122 21 05 05      [10]  235 	ld	hl,#0x0505
   0125 E5            [11]  236 	push	hl
   0126 CDr00r00      [17]  237 	call	_cpct_px2byteM0
   0129 55            [ 4]  238 	ld	d,l
   012A 21 16 16      [10]  239 	ld	hl,#0x1616
   012D E5            [11]  240 	push	hl
   012E D5            [11]  241 	push	de
   012F 33            [ 6]  242 	inc	sp
   0130 DD 6E F8      [19]  243 	ld	l,-8 (ix)
   0133 DD 66 F9      [19]  244 	ld	h,-7 (ix)
   0136 E5            [11]  245 	push	hl
   0137 CDr00r00      [17]  246 	call	_cpct_drawSolidBox
   013A F1            [10]  247 	pop	af
   013B F1            [10]  248 	pop	af
   013C 33            [ 6]  249 	inc	sp
   013D 18 1B         [12]  250 	jr	00103$
   013F                     251 00102$:
                            252 ;src/game/depot.c:40: cpct_drawSolidBox(p_video, cpct_px2byteM0(11,11), 22, 22);
   013F 21 0B 0B      [10]  253 	ld	hl,#0x0B0B
   0142 E5            [11]  254 	push	hl
   0143 CDr00r00      [17]  255 	call	_cpct_px2byteM0
   0146 55            [ 4]  256 	ld	d,l
   0147 21 16 16      [10]  257 	ld	hl,#0x1616
   014A E5            [11]  258 	push	hl
   014B D5            [11]  259 	push	de
   014C 33            [ 6]  260 	inc	sp
   014D DD 6E F8      [19]  261 	ld	l,-8 (ix)
   0150 DD 66 F9      [19]  262 	ld	h,-7 (ix)
   0153 E5            [11]  263 	push	hl
   0154 CDr00r00      [17]  264 	call	_cpct_drawSolidBox
   0157 F1            [10]  265 	pop	af
   0158 F1            [10]  266 	pop	af
   0159 33            [ 6]  267 	inc	sp
   015A                     268 00103$:
                            269 ;src/game/depot.c:42: p_video = cpct_getScreenPtr(SCR_VMEM, 5+25*floorf(i/4)+1, 30+40*(i%4)+1);
   015A DD 7E F7      [19]  270 	ld	a,-9 (ix)
   015D C6 1F         [ 7]  271 	add	a, #0x1F
   015F DD 77 F8      [19]  272 	ld	-8 (ix),a
   0162 DD 6E FC      [19]  273 	ld	l,-4 (ix)
   0165 DD 66 FD      [19]  274 	ld	h,-3 (ix)
   0168 E5            [11]  275 	push	hl
   0169 DD 6E FA      [19]  276 	ld	l,-6 (ix)
   016C DD 66 FB      [19]  277 	ld	h,-5 (ix)
   016F E5            [11]  278 	push	hl
   0170 CDr00r00      [17]  279 	call	_floorf
   0173 F1            [10]  280 	pop	af
   0174 F1            [10]  281 	pop	af
   0175 EB            [ 4]  282 	ex	de, hl
   0176 E5            [11]  283 	push	hl
   0177 D5            [11]  284 	push	de
   0178 21 C8 41      [10]  285 	ld	hl,#0x41C8
   017B E5            [11]  286 	push	hl
   017C 21 00 00      [10]  287 	ld	hl,#0x0000
   017F E5            [11]  288 	push	hl
   0180 CDr00r00      [17]  289 	call	___fsmul
   0183 F1            [10]  290 	pop	af
   0184 F1            [10]  291 	pop	af
   0185 F1            [10]  292 	pop	af
   0186 F1            [10]  293 	pop	af
   0187 4D            [ 4]  294 	ld	c,l
   0188 44            [ 4]  295 	ld	b,h
   0189 21 C0 40      [10]  296 	ld	hl,#0x40C0
   018C E5            [11]  297 	push	hl
   018D 21 00 00      [10]  298 	ld	hl,#0x0000
   0190 E5            [11]  299 	push	hl
   0191 D5            [11]  300 	push	de
   0192 C5            [11]  301 	push	bc
   0193 CDr00r00      [17]  302 	call	___fsadd
   0196 F1            [10]  303 	pop	af
   0197 F1            [10]  304 	pop	af
   0198 F1            [10]  305 	pop	af
   0199 F1            [10]  306 	pop	af
   019A D5            [11]  307 	push	de
   019B E5            [11]  308 	push	hl
   019C CDr00r00      [17]  309 	call	___fs2uchar
   019F F1            [10]  310 	pop	af
   01A0 F1            [10]  311 	pop	af
   01A1 55            [ 4]  312 	ld	d,l
   01A2 DD 7E F8      [19]  313 	ld	a,-8 (ix)
   01A5 F5            [11]  314 	push	af
   01A6 33            [ 6]  315 	inc	sp
   01A7 D5            [11]  316 	push	de
   01A8 33            [ 6]  317 	inc	sp
   01A9 21 00 C0      [10]  318 	ld	hl,#0xC000
   01AC E5            [11]  319 	push	hl
   01AD CDr00r00      [17]  320 	call	_cpct_getScreenPtr
                            321 ;src/game/depot.c:38: cpct_drawSolidBox(p_video, cpct_px2byteM0(5,5), 22, 22);
   01B0 EB            [ 4]  322 	ex	de,hl
                            323 ;src/game/depot.c:44: if(i<locDelocked)
   01B1 21r00r00      [10]  324 	ld	hl,#_locDelocked
   01B4 DD 7E 04      [19]  325 	ld	a,4 (ix)
   01B7 96            [ 7]  326 	sub	a, (hl)
   01B8 30 0E         [12]  327 	jr	NC,00105$
                            328 ;src/game/depot.c:46: cpct_drawSprite(l141P, p_video, 20, 20);
   01BA 01r00r00      [10]  329 	ld	bc,#_l141P
   01BD 21 14 14      [10]  330 	ld	hl,#0x1414
   01C0 E5            [11]  331 	push	hl
   01C1 D5            [11]  332 	push	de
   01C2 C5            [11]  333 	push	bc
   01C3 CDr00r00      [17]  334 	call	_cpct_drawSprite
   01C6 18 0C         [12]  335 	jr	00107$
   01C8                     336 00105$:
                            337 ;src/game/depot.c:50: cpct_drawSprite(lock, p_video, 20, 20);
   01C8 01r00r00      [10]  338 	ld	bc,#_lock
   01CB 21 14 14      [10]  339 	ld	hl,#0x1414
   01CE E5            [11]  340 	push	hl
   01CF D5            [11]  341 	push	de
   01D0 C5            [11]  342 	push	bc
   01D1 CDr00r00      [17]  343 	call	_cpct_drawSprite
   01D4                     344 00107$:
   01D4 DD F9         [10]  345 	ld	sp, ix
   01D6 DD E1         [14]  346 	pop	ix
   01D8 C9            [10]  347 	ret
                            348 ;src/game/depot.c:55: void buyLocomotive()
                            349 ;	---------------------------------
                            350 ; Function buyLocomotive
                            351 ; ---------------------------------
   01D9                     352 _buyLocomotive::
   01D9 3B            [ 6]  353 	dec	sp
                            354 ;src/game/depot.c:57: u8 exit=0;
   01DA FD 21 00 00   [14]  355 	ld	iy,#0
   01DE FD 39         [15]  356 	add	iy,sp
   01E0 FD 36 00 00   [19]  357 	ld	0 (iy),#0x00
                            358 ;src/game/depot.c:59: u8 iSelect=0;
   01E4 06 00         [ 7]  359 	ld	b,#0x00
                            360 ;src/game/depot.c:61: putM0();
   01E6 C5            [11]  361 	push	bc
   01E7 CDr00r00      [17]  362 	call	_putM0
   01EA 21 09 09      [10]  363 	ld	hl,#0x0909
   01ED E5            [11]  364 	push	hl
   01EE CDr00r00      [17]  365 	call	_cpct_px2byteM0
   01F1 65            [ 4]  366 	ld	h,l
   01F2 11 00 40      [10]  367 	ld	de,#0x4000
   01F5 D5            [11]  368 	push	de
   01F6 E5            [11]  369 	push	hl
   01F7 33            [ 6]  370 	inc	sp
   01F8 21 00 C0      [10]  371 	ld	hl,#0xC000
   01FB E5            [11]  372 	push	hl
   01FC CDr00r00      [17]  373 	call	_cpct_memset
   01FF C1            [10]  374 	pop	bc
                            375 ;src/game/depot.c:65: for(i=0; i<12; i++)
   0200 11 00 00      [10]  376 	ld	de,#0x0000
   0203                     377 00118$:
                            378 ;src/game/depot.c:66: drawLocomotive(i, iSelect);
   0203 4B            [ 4]  379 	ld	c,e
   0204 C5            [11]  380 	push	bc
   0205 D5            [11]  381 	push	de
   0206 AF            [ 4]  382 	xor	a, a
   0207 F5            [11]  383 	push	af
   0208 33            [ 6]  384 	inc	sp
   0209 79            [ 4]  385 	ld	a,c
   020A F5            [11]  386 	push	af
   020B 33            [ 6]  387 	inc	sp
   020C CDr89r00      [17]  388 	call	_drawLocomotive
   020F F1            [10]  389 	pop	af
   0210 D1            [10]  390 	pop	de
   0211 C1            [10]  391 	pop	bc
                            392 ;src/game/depot.c:65: for(i=0; i<12; i++)
   0212 13            [ 6]  393 	inc	de
   0213 7B            [ 4]  394 	ld	a,e
   0214 D6 0C         [ 7]  395 	sub	a, #0x0C
   0216 7A            [ 4]  396 	ld	a,d
   0217 17            [ 4]  397 	rla
   0218 3F            [ 4]  398 	ccf
   0219 1F            [ 4]  399 	rra
   021A DE 80         [ 7]  400 	sbc	a, #0x80
   021C 38 E5         [12]  401 	jr	C,00118$
                            402 ;src/game/depot.c:68: do
   021E                     403 00115$:
                            404 ;src/game/depot.c:70: cpct_scanKeyboard(); 
   021E C5            [11]  405 	push	bc
   021F CDr00r00      [17]  406 	call	_cpct_scanKeyboard
   0222 21 00 01      [10]  407 	ld	hl,#0x0100
   0225 CDr00r00      [17]  408 	call	_cpct_isKeyPressed
   0228 7D            [ 4]  409 	ld	a,l
   0229 C1            [10]  410 	pop	bc
   022A B7            [ 4]  411 	or	a, a
   022B 28 23         [12]  412 	jr	Z,00111$
                            413 ;src/game/depot.c:74: if (iSelect>0)
   022D 78            [ 4]  414 	ld	a,b
   022E B7            [ 4]  415 	or	a, a
   022F 28 15         [12]  416 	jr	Z,00131$
                            417 ;src/game/depot.c:76: iSelect--;
   0231 05            [ 4]  418 	dec	b
                            419 ;src/game/depot.c:77: drawLocomotive(iSelect, iSelect);
   0232 C5            [11]  420 	push	bc
   0233 C5            [11]  421 	push	bc
   0234 33            [ 6]  422 	inc	sp
   0235 C5            [11]  423 	push	bc
   0236 33            [ 6]  424 	inc	sp
   0237 CDr89r00      [17]  425 	call	_drawLocomotive
   023A F1            [10]  426 	pop	af
   023B C1            [10]  427 	pop	bc
                            428 ;src/game/depot.c:78: drawLocomotive(iSelect+1, iSelect);
   023C 50            [ 4]  429 	ld	d,b
   023D 14            [ 4]  430 	inc	d
   023E C5            [11]  431 	push	bc
   023F 4A            [ 4]  432 	ld	c, d
   0240 C5            [11]  433 	push	bc
   0241 CDr89r00      [17]  434 	call	_drawLocomotive
   0244 F1            [10]  435 	pop	af
   0245 C1            [10]  436 	pop	bc
                            437 ;src/game/depot.c:80: for(i=0; i<14000; i++) {} // wait loop
   0246                     438 00131$:
   0246 11 B0 36      [10]  439 	ld	de,#0x36B0
   0249                     440 00122$:
   0249 1B            [ 6]  441 	dec	de
   024A 7A            [ 4]  442 	ld	a,d
   024B B3            [ 4]  443 	or	a,e
   024C 20 FB         [12]  444 	jr	NZ,00122$
   024E 18 2E         [12]  445 	jr	00112$
   0250                     446 00111$:
                            447 ;src/game/depot.c:82: else if ( cpct_isKeyPressed(Key_CursorDown) )
   0250 C5            [11]  448 	push	bc
   0251 21 00 04      [10]  449 	ld	hl,#0x0400
   0254 CDr00r00      [17]  450 	call	_cpct_isKeyPressed
   0257 7D            [ 4]  451 	ld	a,l
   0258 C1            [10]  452 	pop	bc
   0259 B7            [ 4]  453 	or	a, a
   025A 28 22         [12]  454 	jr	Z,00112$
                            455 ;src/game/depot.c:84: if (iSelect<11)
   025C 78            [ 4]  456 	ld	a,b
   025D D6 0B         [ 7]  457 	sub	a, #0x0B
   025F 30 15         [12]  458 	jr	NC,00135$
                            459 ;src/game/depot.c:86: iSelect++;
   0261 04            [ 4]  460 	inc	b
                            461 ;src/game/depot.c:87: drawLocomotive(iSelect, iSelect);
   0262 C5            [11]  462 	push	bc
   0263 C5            [11]  463 	push	bc
   0264 33            [ 6]  464 	inc	sp
   0265 C5            [11]  465 	push	bc
   0266 33            [ 6]  466 	inc	sp
   0267 CDr89r00      [17]  467 	call	_drawLocomotive
   026A F1            [10]  468 	pop	af
   026B C1            [10]  469 	pop	bc
                            470 ;src/game/depot.c:88: drawLocomotive(iSelect-1, iSelect);
   026C 50            [ 4]  471 	ld	d,b
   026D 15            [ 4]  472 	dec	d
   026E C5            [11]  473 	push	bc
   026F 4A            [ 4]  474 	ld	c, d
   0270 C5            [11]  475 	push	bc
   0271 CDr89r00      [17]  476 	call	_drawLocomotive
   0274 F1            [10]  477 	pop	af
   0275 C1            [10]  478 	pop	bc
                            479 ;src/game/depot.c:90: for(i=0; i<14000; i++) {} // wait loop
   0276                     480 00135$:
   0276 11 B0 36      [10]  481 	ld	de,#0x36B0
   0279                     482 00125$:
   0279 1B            [ 6]  483 	dec	de
   027A 7A            [ 4]  484 	ld	a,d
   027B B3            [ 4]  485 	or	a,e
   027C 20 FB         [12]  486 	jr	NZ,00125$
   027E                     487 00112$:
                            488 ;src/game/depot.c:93: if ( cpct_isKeyPressed(Key_Esc) )
   027E C5            [11]  489 	push	bc
   027F 21 08 04      [10]  490 	ld	hl,#0x0408
   0282 CDr00r00      [17]  491 	call	_cpct_isKeyPressed
   0285 7D            [ 4]  492 	ld	a,l
   0286 C1            [10]  493 	pop	bc
   0287 B7            [ 4]  494 	or	a, a
   0288 28 0A         [12]  495 	jr	Z,00116$
                            496 ;src/game/depot.c:94: exit=1;
   028A FD 21 00 00   [14]  497 	ld	iy,#0
   028E FD 39         [15]  498 	add	iy,sp
   0290 FD 36 00 01   [19]  499 	ld	0 (iy),#0x01
   0294                     500 00116$:
                            501 ;src/game/depot.c:96: while(!exit);
   0294 FD 21 00 00   [14]  502 	ld	iy,#0
   0298 FD 39         [15]  503 	add	iy,sp
   029A FD 7E 00      [19]  504 	ld	a,0 (iy)
   029D B7            [ 4]  505 	or	a, a
   029E CAr1Er02      [10]  506 	jp	Z,00115$
                            507 ;src/game/depot.c:98: putM2();
   02A1 CDr00r00      [17]  508 	call	_putM2
   02A4 33            [ 6]  509 	inc	sp
   02A5 C9            [10]  510 	ret
                            511 	.area _CODE
                            512 	.area _INITIALIZER
                            513 	.area _CABS (ABS)
