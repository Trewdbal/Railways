                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.5.4 #9329 (Linux)
                              4 ; This file was generated Sun Feb  7 18:25:47 2016
                              5 ;--------------------------------------------------------
                              6 	.module depot
                              7 	.optsdcc -mz80
                              8 	
                              9 ;--------------------------------------------------------
                             10 ; Public variables in this module
                             11 ;--------------------------------------------------------
                             12 	.globl _drawWindow
                             13 	.globl _drawMenu
                             14 	.globl _putM2
                             15 	.globl _putM0
                             16 	.globl _floorf
                             17 	.globl _cpct_getScreenPtr
                             18 	.globl _cpct_drawSolidBox
                             19 	.globl _cpct_drawSprite
                             20 	.globl _cpct_px2byteM0
                             21 	.globl _cpct_isKeyPressed
                             22 	.globl _cpct_scanKeyboard
                             23 	.globl _cpct_memset
                             24 	.globl _railroadDepot
                             25 	.globl _drawLocomotive
                             26 	.globl _drawAllLocomotives
                             27 	.globl _confirmBuyLocomotive
                             28 	.globl _buyLocomotive
                             29 ;--------------------------------------------------------
                             30 ; special function registers
                             31 ;--------------------------------------------------------
                             32 ;--------------------------------------------------------
                             33 ; ram data
                             34 ;--------------------------------------------------------
                             35 	.area _DATA
                             36 ;--------------------------------------------------------
                             37 ; ram data
                             38 ;--------------------------------------------------------
                             39 	.area _INITIALIZED
                             40 ;--------------------------------------------------------
                             41 ; absolute external ram data
                             42 ;--------------------------------------------------------
                             43 	.area _DABS (ABS)
                             44 ;--------------------------------------------------------
                             45 ; global & static initialisations
                             46 ;--------------------------------------------------------
                             47 	.area _HOME
                             48 	.area _GSINIT
                             49 	.area _GSFINAL
                             50 	.area _GSINIT
                             51 ;--------------------------------------------------------
                             52 ; Home
                             53 ;--------------------------------------------------------
                             54 	.area _HOME
                             55 	.area _HOME
                             56 ;--------------------------------------------------------
                             57 ; code
                             58 ;--------------------------------------------------------
                             59 	.area _CODE
                             60 ;src/game/depot.c:3: void railroadDepot()
                             61 ;	---------------------------------
                             62 ; Function railroadDepot
                             63 ; ---------------------------------
   0000                      64 _railroadDepot::
   0000 DD E5         [15]   65 	push	ix
   0002 DD 21 00 00   [14]   66 	ld	ix,#0
   0006 DD 39         [15]   67 	add	ix,sp
   0008 F5            [11]   68 	push	af
   0009 F5            [11]   69 	push	af
   000A 3B            [ 6]   70 	dec	sp
                             71 ;src/game/depot.c:5: u8 exit=0;
   000B DD 36 FF 00   [19]   72 	ld	-1 (ix),#0x00
                             73 ;src/game/depot.c:7: cpct_clearScreen(0b11111111);
   000F 21 00 40      [10]   74 	ld	hl,#0x4000
   0012 E5            [11]   75 	push	hl
   0013 3E FF         [ 7]   76 	ld	a,#0xFF
   0015 F5            [11]   77 	push	af
   0016 33            [ 6]   78 	inc	sp
   0017 26 C0         [ 7]   79 	ld	h, #0xC0
   0019 E5            [11]   80 	push	hl
   001A CDr00r00      [17]   81 	call	_cpct_memset
                             82 ;src/game/depot.c:9: do
   001D                      83 00108$:
                             84 ;src/game/depot.c:11: cpct_scanKeyboard(); 
   001D CDr00r00      [17]   85 	call	_cpct_scanKeyboard
                             86 ;src/game/depot.c:13: if ( cpct_isKeyPressed(Key_Esc) )
   0020 21 08 04      [10]   87 	ld	hl,#0x0408
   0023 CDr00r00      [17]   88 	call	_cpct_isKeyPressed
   0026 7D            [ 4]   89 	ld	a,l
   0027 B7            [ 4]   90 	or	a, a
   0028 28 06         [12]   91 	jr	Z,00106$
                             92 ;src/game/depot.c:14: exit=1;
   002A DD 36 FF 01   [19]   93 	ld	-1 (ix),#0x01
   002E 18 2F         [12]   94 	jr	00109$
   0030                      95 00106$:
                             96 ;src/game/depot.c:15: else if(cpct_isKeyPressed(Key_Return) )
   0030 21 02 04      [10]   97 	ld	hl,#0x0402
   0033 CDr00r00      [17]   98 	call	_cpct_isKeyPressed
   0036 7D            [ 4]   99 	ld	a,l
   0037 B7            [ 4]  100 	or	a, a
   0038 28 25         [12]  101 	jr	Z,00109$
                            102 ;src/game/depot.c:17: const char *txtMenuChoice[] = { 
   003A 21 00 00      [10]  103 	ld	hl,#0x0000
   003D 39            [11]  104 	add	hl,sp
   003E 5D            [ 4]  105 	ld	e,l
   003F 54            [ 4]  106 	ld	d,h
   0040 36r6A         [10]  107 	ld	(hl),#<(___str_0)
   0042 23            [ 6]  108 	inc	hl
   0043 36s00         [10]  109 	ld	(hl),#>(___str_0)
   0045 6B            [ 4]  110 	ld	l, e
   0046 62            [ 4]  111 	ld	h, d
   0047 23            [ 6]  112 	inc	hl
   0048 23            [ 6]  113 	inc	hl
   0049 36r7B         [10]  114 	ld	(hl),#<(___str_1)
   004B 23            [ 6]  115 	inc	hl
   004C 36s00         [10]  116 	ld	(hl),#>(___str_1)
                            117 ;src/game/depot.c:21: u8 menuChoice = drawMenu(txtMenuChoice,2);
   004E 3E 02         [ 7]  118 	ld	a,#0x02
   0050 F5            [11]  119 	push	af
   0051 33            [ 6]  120 	inc	sp
   0052 D5            [11]  121 	push	de
   0053 CDr00r00      [17]  122 	call	_drawMenu
   0056 F1            [10]  123 	pop	af
   0057 33            [ 6]  124 	inc	sp
   0058 7D            [ 4]  125 	ld	a,l
                            126 ;src/game/depot.c:23: if(menuChoice == 0)
   0059 B7            [ 4]  127 	or	a, a
   005A 20 03         [12]  128 	jr	NZ,00109$
                            129 ;src/game/depot.c:24: buyLocomotive();
   005C CDrA5r04      [17]  130 	call	_buyLocomotive
   005F                     131 00109$:
                            132 ;src/game/depot.c:28: while(!exit);
   005F DD 7E FF      [19]  133 	ld	a,-1 (ix)
   0062 B7            [ 4]  134 	or	a, a
   0063 28 B8         [12]  135 	jr	Z,00108$
   0065 DD F9         [10]  136 	ld	sp, ix
   0067 DD E1         [14]  137 	pop	ix
   0069 C9            [10]  138 	ret
   006A                     139 ___str_0:
   006A 42 75 79 20 61 20   140 	.ascii "Buy a locomotive"
        6C 6F 63 6F 6D 6F
        74 69 76 65
   007A 00                  141 	.db 0x00
   007B                     142 ___str_1:
   007B 42 61 63 6B 20 74   143 	.ascii "Back to depot"
        6F 20 64 65 70 6F
        74
   0088 00                  144 	.db 0x00
                            145 ;src/game/depot.c:31: void drawLocomotive(u8 i, u8 iSelect)
                            146 ;	---------------------------------
                            147 ; Function drawLocomotive
                            148 ; ---------------------------------
   0089                     149 _drawLocomotive::
   0089 DD E5         [15]  150 	push	ix
   008B DD 21 00 00   [14]  151 	ld	ix,#0
   008F DD 39         [15]  152 	add	ix,sp
   0091 21 F7 FF      [10]  153 	ld	hl,#-9
   0094 39            [11]  154 	add	hl,sp
   0095 F9            [ 6]  155 	ld	sp,hl
                            156 ;src/game/depot.c:34: p_video = cpct_getScreenPtr(SCR_VMEM, 5+25*floorf(i/4), 30+40*(i%4));
   0096 DD 7E 04      [19]  157 	ld	a,4 (ix)
   0099 E6 03         [ 7]  158 	and	a, #0x03
   009B 4F            [ 4]  159 	ld	c,a
   009C 87            [ 4]  160 	add	a, a
   009D 87            [ 4]  161 	add	a, a
   009E 81            [ 4]  162 	add	a, c
   009F 87            [ 4]  163 	add	a, a
   00A0 87            [ 4]  164 	add	a, a
   00A1 87            [ 4]  165 	add	a, a
   00A2 DD 77 F8      [19]  166 	ld	-8 (ix), a
   00A5 C6 1E         [ 7]  167 	add	a, #0x1E
   00A7 DD 77 F9      [19]  168 	ld	-7 (ix),a
   00AA DD 7E 04      [19]  169 	ld	a,4 (ix)
   00AD 0F            [ 4]  170 	rrca
   00AE 0F            [ 4]  171 	rrca
   00AF E6 3F         [ 7]  172 	and	a,#0x3F
   00B1 DD 77 F7      [19]  173 	ld	-9 (ix), a
   00B4 F5            [11]  174 	push	af
   00B5 33            [ 6]  175 	inc	sp
   00B6 CDr00r00      [17]  176 	call	___uchar2fs
   00B9 33            [ 6]  177 	inc	sp
   00BA DD 72 FF      [19]  178 	ld	-1 (ix),d
   00BD DD 73 FE      [19]  179 	ld	-2 (ix),e
   00C0 DD 74 FD      [19]  180 	ld	-3 (ix),h
   00C3 DD 75 FC      [19]  181 	ld	-4 (ix),l
   00C6 DD 6E FE      [19]  182 	ld	l,-2 (ix)
   00C9 DD 66 FF      [19]  183 	ld	h,-1 (ix)
   00CC E5            [11]  184 	push	hl
   00CD DD 6E FC      [19]  185 	ld	l,-4 (ix)
   00D0 DD 66 FD      [19]  186 	ld	h,-3 (ix)
   00D3 E5            [11]  187 	push	hl
   00D4 CDr00r00      [17]  188 	call	_floorf
   00D7 F1            [10]  189 	pop	af
   00D8 F1            [10]  190 	pop	af
   00D9 EB            [ 4]  191 	ex	de, hl
   00DA E5            [11]  192 	push	hl
   00DB D5            [11]  193 	push	de
   00DC 21 C8 41      [10]  194 	ld	hl,#0x41C8
   00DF E5            [11]  195 	push	hl
   00E0 21 00 00      [10]  196 	ld	hl,#0x0000
   00E3 E5            [11]  197 	push	hl
   00E4 CDr00r00      [17]  198 	call	___fsmul
   00E7 F1            [10]  199 	pop	af
   00E8 F1            [10]  200 	pop	af
   00E9 F1            [10]  201 	pop	af
   00EA F1            [10]  202 	pop	af
   00EB 4D            [ 4]  203 	ld	c,l
   00EC 44            [ 4]  204 	ld	b,h
   00ED 21 A0 40      [10]  205 	ld	hl,#0x40A0
   00F0 E5            [11]  206 	push	hl
   00F1 21 00 00      [10]  207 	ld	hl,#0x0000
   00F4 E5            [11]  208 	push	hl
   00F5 D5            [11]  209 	push	de
   00F6 C5            [11]  210 	push	bc
   00F7 CDr00r00      [17]  211 	call	___fsadd
   00FA F1            [10]  212 	pop	af
   00FB F1            [10]  213 	pop	af
   00FC F1            [10]  214 	pop	af
   00FD F1            [10]  215 	pop	af
   00FE D5            [11]  216 	push	de
   00FF E5            [11]  217 	push	hl
   0100 CDr00r00      [17]  218 	call	___fs2uchar
   0103 F1            [10]  219 	pop	af
   0104 F1            [10]  220 	pop	af
   0105 55            [ 4]  221 	ld	d,l
   0106 DD 7E F9      [19]  222 	ld	a,-7 (ix)
   0109 F5            [11]  223 	push	af
   010A 33            [ 6]  224 	inc	sp
   010B D5            [11]  225 	push	de
   010C 33            [ 6]  226 	inc	sp
   010D 21 00 C0      [10]  227 	ld	hl,#0xC000
   0110 E5            [11]  228 	push	hl
   0111 CDr00r00      [17]  229 	call	_cpct_getScreenPtr
                            230 ;src/game/depot.c:38: cpct_drawSolidBox(p_video, cpct_px2byteM0(5,5), 22, 22);
   0114 DD 75 FA      [19]  231 	ld	-6 (ix),l
   0117 DD 74 FB      [19]  232 	ld	-5 (ix),h
                            233 ;src/game/depot.c:37: if(i==iSelect)
   011A DD 7E 04      [19]  234 	ld	a,4 (ix)
   011D DD 96 05      [19]  235 	sub	a, 5 (ix)
   0120 20 1D         [12]  236 	jr	NZ,00102$
                            237 ;src/game/depot.c:38: cpct_drawSolidBox(p_video, cpct_px2byteM0(5,5), 22, 22);
   0122 21 05 05      [10]  238 	ld	hl,#0x0505
   0125 E5            [11]  239 	push	hl
   0126 CDr00r00      [17]  240 	call	_cpct_px2byteM0
   0129 55            [ 4]  241 	ld	d,l
   012A 21 16 16      [10]  242 	ld	hl,#0x1616
   012D E5            [11]  243 	push	hl
   012E D5            [11]  244 	push	de
   012F 33            [ 6]  245 	inc	sp
   0130 DD 6E FA      [19]  246 	ld	l,-6 (ix)
   0133 DD 66 FB      [19]  247 	ld	h,-5 (ix)
   0136 E5            [11]  248 	push	hl
   0137 CDr00r00      [17]  249 	call	_cpct_drawSolidBox
   013A F1            [10]  250 	pop	af
   013B F1            [10]  251 	pop	af
   013C 33            [ 6]  252 	inc	sp
   013D 18 1B         [12]  253 	jr	00103$
   013F                     254 00102$:
                            255 ;src/game/depot.c:40: cpct_drawSolidBox(p_video, cpct_px2byteM0(11,11), 22, 22);
   013F 21 0B 0B      [10]  256 	ld	hl,#0x0B0B
   0142 E5            [11]  257 	push	hl
   0143 CDr00r00      [17]  258 	call	_cpct_px2byteM0
   0146 55            [ 4]  259 	ld	d,l
   0147 21 16 16      [10]  260 	ld	hl,#0x1616
   014A E5            [11]  261 	push	hl
   014B D5            [11]  262 	push	de
   014C 33            [ 6]  263 	inc	sp
   014D DD 6E FA      [19]  264 	ld	l,-6 (ix)
   0150 DD 66 FB      [19]  265 	ld	h,-5 (ix)
   0153 E5            [11]  266 	push	hl
   0154 CDr00r00      [17]  267 	call	_cpct_drawSolidBox
   0157 F1            [10]  268 	pop	af
   0158 F1            [10]  269 	pop	af
   0159 33            [ 6]  270 	inc	sp
   015A                     271 00103$:
                            272 ;src/game/depot.c:42: p_video = cpct_getScreenPtr(SCR_VMEM, 5+25*floorf(i/4)+1, 30+40*(i%4)+1);
   015A DD 7E F8      [19]  273 	ld	a,-8 (ix)
   015D C6 1F         [ 7]  274 	add	a, #0x1F
   015F DD 77 FA      [19]  275 	ld	-6 (ix),a
   0162 DD 6E FE      [19]  276 	ld	l,-2 (ix)
   0165 DD 66 FF      [19]  277 	ld	h,-1 (ix)
   0168 E5            [11]  278 	push	hl
   0169 DD 6E FC      [19]  279 	ld	l,-4 (ix)
   016C DD 66 FD      [19]  280 	ld	h,-3 (ix)
   016F E5            [11]  281 	push	hl
   0170 CDr00r00      [17]  282 	call	_floorf
   0173 F1            [10]  283 	pop	af
   0174 F1            [10]  284 	pop	af
   0175 EB            [ 4]  285 	ex	de, hl
   0176 E5            [11]  286 	push	hl
   0177 D5            [11]  287 	push	de
   0178 21 C8 41      [10]  288 	ld	hl,#0x41C8
   017B E5            [11]  289 	push	hl
   017C 21 00 00      [10]  290 	ld	hl,#0x0000
   017F E5            [11]  291 	push	hl
   0180 CDr00r00      [17]  292 	call	___fsmul
   0183 F1            [10]  293 	pop	af
   0184 F1            [10]  294 	pop	af
   0185 F1            [10]  295 	pop	af
   0186 F1            [10]  296 	pop	af
   0187 4D            [ 4]  297 	ld	c,l
   0188 44            [ 4]  298 	ld	b,h
   0189 21 C0 40      [10]  299 	ld	hl,#0x40C0
   018C E5            [11]  300 	push	hl
   018D 21 00 00      [10]  301 	ld	hl,#0x0000
   0190 E5            [11]  302 	push	hl
   0191 D5            [11]  303 	push	de
   0192 C5            [11]  304 	push	bc
   0193 CDr00r00      [17]  305 	call	___fsadd
   0196 F1            [10]  306 	pop	af
   0197 F1            [10]  307 	pop	af
   0198 F1            [10]  308 	pop	af
   0199 F1            [10]  309 	pop	af
   019A D5            [11]  310 	push	de
   019B E5            [11]  311 	push	hl
   019C CDr00r00      [17]  312 	call	___fs2uchar
   019F F1            [10]  313 	pop	af
   01A0 F1            [10]  314 	pop	af
   01A1 55            [ 4]  315 	ld	d,l
   01A2 DD 7E FA      [19]  316 	ld	a,-6 (ix)
   01A5 F5            [11]  317 	push	af
   01A6 33            [ 6]  318 	inc	sp
   01A7 D5            [11]  319 	push	de
   01A8 33            [ 6]  320 	inc	sp
   01A9 21 00 C0      [10]  321 	ld	hl,#0xC000
   01AC E5            [11]  322 	push	hl
   01AD CDr00r00      [17]  323 	call	_cpct_getScreenPtr
                            324 ;src/game/depot.c:38: cpct_drawSolidBox(p_video, cpct_px2byteM0(5,5), 22, 22);
   01B0 4D            [ 4]  325 	ld	c, l
   01B1 44            [ 4]  326 	ld	b, h
                            327 ;src/game/depot.c:44: if(i<locDelocked)
   01B2 21r00r00      [10]  328 	ld	hl,#_locDelocked
   01B5 DD 7E 04      [19]  329 	ld	a,4 (ix)
   01B8 96            [ 7]  330 	sub	a, (hl)
   01B9 30 52         [12]  331 	jr	NC,00110$
                            332 ;src/game/depot.c:46: switch(i)
   01BB 3E 03         [ 7]  333 	ld	a,#0x03
   01BD DD 96 04      [19]  334 	sub	a, 4 (ix)
   01C0 38 57         [12]  335 	jr	C,00112$
   01C2 DD 5E 04      [19]  336 	ld	e,4 (ix)
   01C5 16 00         [ 7]  337 	ld	d,#0x00
   01C7 21rCDr01      [10]  338 	ld	hl,#00128$
   01CA 19            [11]  339 	add	hl,de
   01CB 19            [11]  340 	add	hl,de
                            341 ;src/game/depot.c:48: case 0:
   01CC E9            [ 4]  342 	jp	(hl)
   01CD                     343 00128$:
   01CD 18 06         [12]  344 	jr	00104$
   01CF 18 12         [12]  345 	jr	00105$
   01D1 18 1E         [12]  346 	jr	00106$
   01D3 18 2A         [12]  347 	jr	00107$
   01D5                     348 00104$:
                            349 ;src/game/depot.c:49: cpct_drawSprite(l130B, p_video, 20, 20);
   01D5 11r00r00      [10]  350 	ld	de,#_l130B+0
   01D8 21 14 14      [10]  351 	ld	hl,#0x1414
   01DB E5            [11]  352 	push	hl
   01DC C5            [11]  353 	push	bc
   01DD D5            [11]  354 	push	de
   01DE CDr00r00      [17]  355 	call	_cpct_drawSprite
                            356 ;src/game/depot.c:50: break;
   01E1 18 36         [12]  357 	jr	00112$
                            358 ;src/game/depot.c:51: case 1:
   01E3                     359 00105$:
                            360 ;src/game/depot.c:52: cpct_drawSprite(l141TA, p_video, 20, 20);
   01E3 11r00r00      [10]  361 	ld	de,#_l141TA+0
   01E6 21 14 14      [10]  362 	ld	hl,#0x1414
   01E9 E5            [11]  363 	push	hl
   01EA C5            [11]  364 	push	bc
   01EB D5            [11]  365 	push	de
   01EC CDr00r00      [17]  366 	call	_cpct_drawSprite
                            367 ;src/game/depot.c:53: break;
   01EF 18 28         [12]  368 	jr	00112$
                            369 ;src/game/depot.c:54: case 2:
   01F1                     370 00106$:
                            371 ;src/game/depot.c:55: cpct_drawSprite(l142AT, p_video, 20, 20);
   01F1 11r00r00      [10]  372 	ld	de,#_l142AT+0
   01F4 21 14 14      [10]  373 	ld	hl,#0x1414
   01F7 E5            [11]  374 	push	hl
   01F8 C5            [11]  375 	push	bc
   01F9 D5            [11]  376 	push	de
   01FA CDr00r00      [17]  377 	call	_cpct_drawSprite
                            378 ;src/game/depot.c:56: break;
   01FD 18 1A         [12]  379 	jr	00112$
                            380 ;src/game/depot.c:57: case 3:
   01FF                     381 00107$:
                            382 ;src/game/depot.c:58: cpct_drawSprite(l141P, p_video, 20, 20);
   01FF 11r00r00      [10]  383 	ld	de,#_l141P+0
   0202 21 14 14      [10]  384 	ld	hl,#0x1414
   0205 E5            [11]  385 	push	hl
   0206 C5            [11]  386 	push	bc
   0207 D5            [11]  387 	push	de
   0208 CDr00r00      [17]  388 	call	_cpct_drawSprite
                            389 ;src/game/depot.c:60: }
   020B 18 0C         [12]  390 	jr	00112$
   020D                     391 00110$:
                            392 ;src/game/depot.c:66: cpct_drawSprite(lock, p_video, 20, 20);
   020D 11r00r00      [10]  393 	ld	de,#_lock
   0210 21 14 14      [10]  394 	ld	hl,#0x1414
   0213 E5            [11]  395 	push	hl
   0214 C5            [11]  396 	push	bc
   0215 D5            [11]  397 	push	de
   0216 CDr00r00      [17]  398 	call	_cpct_drawSprite
   0219                     399 00112$:
   0219 DD F9         [10]  400 	ld	sp, ix
   021B DD E1         [14]  401 	pop	ix
   021D C9            [10]  402 	ret
                            403 ;src/game/depot.c:70: void drawAllLocomotives(u8 iSelect)
                            404 ;	---------------------------------
                            405 ; Function drawAllLocomotives
                            406 ; ---------------------------------
   021E                     407 _drawAllLocomotives::
                            408 ;src/game/depot.c:74: putM0();
   021E CDr00r00      [17]  409 	call	_putM0
                            410 ;src/game/depot.c:76: cpct_clearScreen(cpct_px2byteM0(9,9));
   0221 21 09 09      [10]  411 	ld	hl,#0x0909
   0224 E5            [11]  412 	push	hl
   0225 CDr00r00      [17]  413 	call	_cpct_px2byteM0
   0228 65            [ 4]  414 	ld	h,l
   0229 01 00 40      [10]  415 	ld	bc,#0x4000
   022C C5            [11]  416 	push	bc
   022D E5            [11]  417 	push	hl
   022E 33            [ 6]  418 	inc	sp
   022F 21 00 C0      [10]  419 	ld	hl,#0xC000
   0232 E5            [11]  420 	push	hl
   0233 CDr00r00      [17]  421 	call	_cpct_memset
                            422 ;src/game/depot.c:77: for(i=0; i<12; i++)
   0236 16 00         [ 7]  423 	ld	d,#0x00
   0238                     424 00102$:
                            425 ;src/game/depot.c:78: drawLocomotive(i, iSelect);
   0238 D5            [11]  426 	push	de
   0239 21 04 00      [10]  427 	ld	hl, #4+0
   023C 39            [11]  428 	add	hl, sp
   023D 7E            [ 7]  429 	ld	a, (hl)
   023E F5            [11]  430 	push	af
   023F 33            [ 6]  431 	inc	sp
   0240 D5            [11]  432 	push	de
   0241 33            [ 6]  433 	inc	sp
   0242 CDr89r00      [17]  434 	call	_drawLocomotive
   0245 F1            [10]  435 	pop	af
   0246 D1            [10]  436 	pop	de
                            437 ;src/game/depot.c:77: for(i=0; i<12; i++)
   0247 14            [ 4]  438 	inc	d
   0248 7A            [ 4]  439 	ld	a,d
   0249 D6 0C         [ 7]  440 	sub	a, #0x0C
   024B 38 EB         [12]  441 	jr	C,00102$
   024D C9            [10]  442 	ret
                            443 ;src/game/depot.c:81: u8 confirmBuyLocomotive(u8 iSelect)
                            444 ;	---------------------------------
                            445 ; Function confirmBuyLocomotive
                            446 ; ---------------------------------
   024E                     447 _confirmBuyLocomotive::
   024E DD E5         [15]  448 	push	ix
   0250 DD 21 00 00   [14]  449 	ld	ix,#0
   0254 DD 39         [15]  450 	add	ix,sp
   0256 21 F4 FF      [10]  451 	ld	hl,#-12
   0259 39            [11]  452 	add	hl,sp
   025A F9            [ 6]  453 	ld	sp,hl
                            454 ;src/game/depot.c:85: putM2();
   025B CDr00r00      [17]  455 	call	_putM2
                            456 ;src/game/depot.c:87: switch(iSelect)
   025E 3E 03         [ 7]  457 	ld	a,#0x03
   0260 DD 96 04      [19]  458 	sub	a, 4 (ix)
   0263 DAr7Ar03      [10]  459 	jp	C,00105$
   0266 DD 5E 04      [19]  460 	ld	e,4 (ix)
   0269 16 00         [ 7]  461 	ld	d,#0x00
   026B 21r72r02      [10]  462 	ld	hl,#00112$
   026E 19            [11]  463 	add	hl,de
   026F 19            [11]  464 	add	hl,de
   0270 19            [11]  465 	add	hl,de
   0271 E9            [ 4]  466 	jp	(hl)
   0272                     467 00112$:
   0272 C3r7Er02      [10]  468 	jp	00101$
   0275 C3rBEr02      [10]  469 	jp	00102$
   0278 C3rFEr02      [10]  470 	jp	00103$
   027B C3r3Dr03      [10]  471 	jp	00104$
                            472 ;src/game/depot.c:89: case 0:
   027E                     473 00101$:
                            474 ;src/game/depot.c:90: txtWindowLocomotive[0] = "130 B";
   027E 21 00 00      [10]  475 	ld	hl,#0x0000
   0281 39            [11]  476 	add	hl,sp
   0282 5D            [ 4]  477 	ld	e,l
   0283 54            [ 4]  478 	ld	d,h
   0284 36r8C         [10]  479 	ld	(hl),#<(___str_2)
   0286 23            [ 6]  480 	inc	hl
   0287 36s03         [10]  481 	ld	(hl),#>(___str_2)
                            482 ;src/game/depot.c:91: txtWindowLocomotive[1] = "";
   0289 6B            [ 4]  483 	ld	l, e
   028A 62            [ 4]  484 	ld	h, d
   028B 23            [ 6]  485 	inc	hl
   028C 23            [ 6]  486 	inc	hl
   028D 01r92r03      [10]  487 	ld	bc,#___str_3+0
   0290 71            [ 7]  488 	ld	(hl),c
   0291 23            [ 6]  489 	inc	hl
   0292 70            [ 7]  490 	ld	(hl),b
                            491 ;src/game/depot.c:92: txtWindowLocomotive[2] = "Propulsion: steam";
   0293 21 04 00      [10]  492 	ld	hl,#0x0004
   0296 19            [11]  493 	add	hl,de
   0297 01r93r03      [10]  494 	ld	bc,#___str_4+0
   029A 71            [ 7]  495 	ld	(hl),c
   029B 23            [ 6]  496 	inc	hl
   029C 70            [ 7]  497 	ld	(hl),b
                            498 ;src/game/depot.c:93: txtWindowLocomotive[3] = "Entry of service: 1909";
   029D 21 06 00      [10]  499 	ld	hl,#0x0006
   02A0 19            [11]  500 	add	hl,de
   02A1 01rA5r03      [10]  501 	ld	bc,#___str_5+0
   02A4 71            [ 7]  502 	ld	(hl),c
   02A5 23            [ 6]  503 	inc	hl
   02A6 70            [ 7]  504 	ld	(hl),b
                            505 ;src/game/depot.c:94: txtWindowLocomotive[4] = "Maximum speed: 80 km/h";
   02A7 21 08 00      [10]  506 	ld	hl,#0x0008
   02AA 19            [11]  507 	add	hl,de
   02AB 01rBCr03      [10]  508 	ld	bc,#___str_6+0
   02AE 71            [ 7]  509 	ld	(hl),c
   02AF 23            [ 6]  510 	inc	hl
   02B0 70            [ 7]  511 	ld	(hl),b
                            512 ;src/game/depot.c:95: txtWindowLocomotive[5] = "Price: 1000$";
   02B1 21 0A 00      [10]  513 	ld	hl,#0x000A
   02B4 19            [11]  514 	add	hl,de
   02B5 11rD3r03      [10]  515 	ld	de,#___str_7+0
   02B8 73            [ 7]  516 	ld	(hl),e
   02B9 23            [ 6]  517 	inc	hl
   02BA 72            [ 7]  518 	ld	(hl),d
                            519 ;src/game/depot.c:96: break;
   02BB C3r7Ar03      [10]  520 	jp	00105$
                            521 ;src/game/depot.c:97: case 1:
   02BE                     522 00102$:
                            523 ;src/game/depot.c:98: txtWindowLocomotive[0] = "141 TA";
   02BE 21 00 00      [10]  524 	ld	hl,#0x0000
   02C1 39            [11]  525 	add	hl,sp
   02C2 5D            [ 4]  526 	ld	e,l
   02C3 54            [ 4]  527 	ld	d,h
   02C4 36rE0         [10]  528 	ld	(hl),#<(___str_8)
   02C6 23            [ 6]  529 	inc	hl
   02C7 36s03         [10]  530 	ld	(hl),#>(___str_8)
                            531 ;src/game/depot.c:99: txtWindowLocomotive[1] = "";
   02C9 6B            [ 4]  532 	ld	l, e
   02CA 62            [ 4]  533 	ld	h, d
   02CB 23            [ 6]  534 	inc	hl
   02CC 23            [ 6]  535 	inc	hl
   02CD 01r92r03      [10]  536 	ld	bc,#___str_3+0
   02D0 71            [ 7]  537 	ld	(hl),c
   02D1 23            [ 6]  538 	inc	hl
   02D2 70            [ 7]  539 	ld	(hl),b
                            540 ;src/game/depot.c:100: txtWindowLocomotive[2] = "Propulsion: steam";
   02D3 21 04 00      [10]  541 	ld	hl,#0x0004
   02D6 19            [11]  542 	add	hl,de
   02D7 01r93r03      [10]  543 	ld	bc,#___str_4+0
   02DA 71            [ 7]  544 	ld	(hl),c
   02DB 23            [ 6]  545 	inc	hl
   02DC 70            [ 7]  546 	ld	(hl),b
                            547 ;src/game/depot.c:101: txtWindowLocomotive[3] = "Entry of service: 1911";
   02DD 21 06 00      [10]  548 	ld	hl,#0x0006
   02E0 19            [11]  549 	add	hl,de
   02E1 01rE7r03      [10]  550 	ld	bc,#___str_9+0
   02E4 71            [ 7]  551 	ld	(hl),c
   02E5 23            [ 6]  552 	inc	hl
   02E6 70            [ 7]  553 	ld	(hl),b
                            554 ;src/game/depot.c:102: txtWindowLocomotive[4] = "Maximum speed: 70 km/h";
   02E7 21 08 00      [10]  555 	ld	hl,#0x0008
   02EA 19            [11]  556 	add	hl,de
   02EB 01rFEr03      [10]  557 	ld	bc,#___str_10+0
   02EE 71            [ 7]  558 	ld	(hl),c
   02EF 23            [ 6]  559 	inc	hl
   02F0 70            [ 7]  560 	ld	(hl),b
                            561 ;src/game/depot.c:103: txtWindowLocomotive[5] = "Price: 900$";
   02F1 21 0A 00      [10]  562 	ld	hl,#0x000A
   02F4 19            [11]  563 	add	hl,de
   02F5 11r15r04      [10]  564 	ld	de,#___str_11+0
   02F8 73            [ 7]  565 	ld	(hl),e
   02F9 23            [ 6]  566 	inc	hl
   02FA 72            [ 7]  567 	ld	(hl),d
                            568 ;src/game/depot.c:104: break;
   02FB C3r7Ar03      [10]  569 	jp	00105$
                            570 ;src/game/depot.c:105: case 2:
   02FE                     571 00103$:
                            572 ;src/game/depot.c:106: txtWindowLocomotive[0] = "142 AT";
   02FE 21 00 00      [10]  573 	ld	hl,#0x0000
   0301 39            [11]  574 	add	hl,sp
   0302 5D            [ 4]  575 	ld	e,l
   0303 54            [ 4]  576 	ld	d,h
   0304 36r21         [10]  577 	ld	(hl),#<(___str_12)
   0306 23            [ 6]  578 	inc	hl
   0307 36s04         [10]  579 	ld	(hl),#>(___str_12)
                            580 ;src/game/depot.c:107: txtWindowLocomotive[1] = "";
   0309 6B            [ 4]  581 	ld	l, e
   030A 62            [ 4]  582 	ld	h, d
   030B 23            [ 6]  583 	inc	hl
   030C 23            [ 6]  584 	inc	hl
   030D 01r92r03      [10]  585 	ld	bc,#___str_3+0
   0310 71            [ 7]  586 	ld	(hl),c
   0311 23            [ 6]  587 	inc	hl
   0312 70            [ 7]  588 	ld	(hl),b
                            589 ;src/game/depot.c:108: txtWindowLocomotive[2] = "Propulsion: steam";
   0313 21 04 00      [10]  590 	ld	hl,#0x0004
   0316 19            [11]  591 	add	hl,de
   0317 01r93r03      [10]  592 	ld	bc,#___str_4+0
   031A 71            [ 7]  593 	ld	(hl),c
   031B 23            [ 6]  594 	inc	hl
   031C 70            [ 7]  595 	ld	(hl),b
                            596 ;src/game/depot.c:109: txtWindowLocomotive[3] = "Entry of service: 1926";
   031D 21 06 00      [10]  597 	ld	hl,#0x0006
   0320 19            [11]  598 	add	hl,de
   0321 01r28r04      [10]  599 	ld	bc,#___str_13+0
   0324 71            [ 7]  600 	ld	(hl),c
   0325 23            [ 6]  601 	inc	hl
   0326 70            [ 7]  602 	ld	(hl),b
                            603 ;src/game/depot.c:110: txtWindowLocomotive[4] = "Maximum speed: 95 km/h";
   0327 21 08 00      [10]  604 	ld	hl,#0x0008
   032A 19            [11]  605 	add	hl,de
   032B 01r3Fr04      [10]  606 	ld	bc,#___str_14+0
   032E 71            [ 7]  607 	ld	(hl),c
   032F 23            [ 6]  608 	inc	hl
   0330 70            [ 7]  609 	ld	(hl),b
                            610 ;src/game/depot.c:111: txtWindowLocomotive[5] = "Price: 1500$";
   0331 21 0A 00      [10]  611 	ld	hl,#0x000A
   0334 19            [11]  612 	add	hl,de
   0335 11r56r04      [10]  613 	ld	de,#___str_15+0
   0338 73            [ 7]  614 	ld	(hl),e
   0339 23            [ 6]  615 	inc	hl
   033A 72            [ 7]  616 	ld	(hl),d
                            617 ;src/game/depot.c:112: break;
   033B 18 3D         [12]  618 	jr	00105$
                            619 ;src/game/depot.c:114: case 3:
   033D                     620 00104$:
                            621 ;src/game/depot.c:115: txtWindowLocomotive[0] = "141 P";
   033D 21 00 00      [10]  622 	ld	hl,#0x0000
   0340 39            [11]  623 	add	hl,sp
   0341 5D            [ 4]  624 	ld	e,l
   0342 54            [ 4]  625 	ld	d,h
   0343 36r63         [10]  626 	ld	(hl),#<(___str_16)
   0345 23            [ 6]  627 	inc	hl
   0346 36s04         [10]  628 	ld	(hl),#>(___str_16)
                            629 ;src/game/depot.c:116: txtWindowLocomotive[1] = "";
   0348 6B            [ 4]  630 	ld	l, e
   0349 62            [ 4]  631 	ld	h, d
   034A 23            [ 6]  632 	inc	hl
   034B 23            [ 6]  633 	inc	hl
   034C 01r92r03      [10]  634 	ld	bc,#___str_3+0
   034F 71            [ 7]  635 	ld	(hl),c
   0350 23            [ 6]  636 	inc	hl
   0351 70            [ 7]  637 	ld	(hl),b
                            638 ;src/game/depot.c:117: txtWindowLocomotive[2] = "Propulsion: steam";
   0352 21 04 00      [10]  639 	ld	hl,#0x0004
   0355 19            [11]  640 	add	hl,de
   0356 01r93r03      [10]  641 	ld	bc,#___str_4+0
   0359 71            [ 7]  642 	ld	(hl),c
   035A 23            [ 6]  643 	inc	hl
   035B 70            [ 7]  644 	ld	(hl),b
                            645 ;src/game/depot.c:118: txtWindowLocomotive[3] = "Entry of service: 1942";
   035C 21 06 00      [10]  646 	ld	hl,#0x0006
   035F 19            [11]  647 	add	hl,de
   0360 01r69r04      [10]  648 	ld	bc,#___str_17+0
   0363 71            [ 7]  649 	ld	(hl),c
   0364 23            [ 6]  650 	inc	hl
   0365 70            [ 7]  651 	ld	(hl),b
                            652 ;src/game/depot.c:119: txtWindowLocomotive[4] = "Maximum speed: 105 km/h";
   0366 21 08 00      [10]  653 	ld	hl,#0x0008
   0369 19            [11]  654 	add	hl,de
   036A 01r80r04      [10]  655 	ld	bc,#___str_18+0
   036D 71            [ 7]  656 	ld	(hl),c
   036E 23            [ 6]  657 	inc	hl
   036F 70            [ 7]  658 	ld	(hl),b
                            659 ;src/game/depot.c:120: txtWindowLocomotive[5] = "Price: 2000$";
   0370 21 0A 00      [10]  660 	ld	hl,#0x000A
   0373 19            [11]  661 	add	hl,de
   0374 11r98r04      [10]  662 	ld	de,#___str_19+0
   0377 73            [ 7]  663 	ld	(hl),e
   0378 23            [ 6]  664 	inc	hl
   0379 72            [ 7]  665 	ld	(hl),d
                            666 ;src/game/depot.c:122: }
   037A                     667 00105$:
                            668 ;src/game/depot.c:124: return drawWindow(txtWindowLocomotive, 6, 1);
   037A 21 00 00      [10]  669 	ld	hl,#0x0000
   037D 39            [11]  670 	add	hl,sp
   037E EB            [ 4]  671 	ex	de,hl
   037F 21 06 01      [10]  672 	ld	hl,#0x0106
   0382 E5            [11]  673 	push	hl
   0383 D5            [11]  674 	push	de
   0384 CDr00r00      [17]  675 	call	_drawWindow
   0387 DD F9         [10]  676 	ld	sp,ix
   0389 DD E1         [14]  677 	pop	ix
   038B C9            [10]  678 	ret
   038C                     679 ___str_2:
   038C 31 33 30 20 42      680 	.ascii "130 B"
   0391 00                  681 	.db 0x00
   0392                     682 ___str_3:
   0392 00                  683 	.db 0x00
   0393                     684 ___str_4:
   0393 50 72 6F 70 75 6C   685 	.ascii "Propulsion: steam"
        73 69 6F 6E 3A 20
        73 74 65 61 6D
   03A4 00                  686 	.db 0x00
   03A5                     687 ___str_5:
   03A5 45 6E 74 72 79 20   688 	.ascii "Entry of service: 1909"
        6F 66 20 73 65 72
        76 69 63 65 3A 20
        31 39 30 39
   03BB 00                  689 	.db 0x00
   03BC                     690 ___str_6:
   03BC 4D 61 78 69 6D 75   691 	.ascii "Maximum speed: 80 km/h"
        6D 20 73 70 65 65
        64 3A 20 38 30 20
        6B 6D 2F 68
   03D2 00                  692 	.db 0x00
   03D3                     693 ___str_7:
   03D3 50 72 69 63 65 3A   694 	.ascii "Price: 1000$"
        20 31 30 30 30 24
   03DF 00                  695 	.db 0x00
   03E0                     696 ___str_8:
   03E0 31 34 31 20 54 41   697 	.ascii "141 TA"
   03E6 00                  698 	.db 0x00
   03E7                     699 ___str_9:
   03E7 45 6E 74 72 79 20   700 	.ascii "Entry of service: 1911"
        6F 66 20 73 65 72
        76 69 63 65 3A 20
        31 39 31 31
   03FD 00                  701 	.db 0x00
   03FE                     702 ___str_10:
   03FE 4D 61 78 69 6D 75   703 	.ascii "Maximum speed: 70 km/h"
        6D 20 73 70 65 65
        64 3A 20 37 30 20
        6B 6D 2F 68
   0414 00                  704 	.db 0x00
   0415                     705 ___str_11:
   0415 50 72 69 63 65 3A   706 	.ascii "Price: 900$"
        20 39 30 30 24
   0420 00                  707 	.db 0x00
   0421                     708 ___str_12:
   0421 31 34 32 20 41 54   709 	.ascii "142 AT"
   0427 00                  710 	.db 0x00
   0428                     711 ___str_13:
   0428 45 6E 74 72 79 20   712 	.ascii "Entry of service: 1926"
        6F 66 20 73 65 72
        76 69 63 65 3A 20
        31 39 32 36
   043E 00                  713 	.db 0x00
   043F                     714 ___str_14:
   043F 4D 61 78 69 6D 75   715 	.ascii "Maximum speed: 95 km/h"
        6D 20 73 70 65 65
        64 3A 20 39 35 20
        6B 6D 2F 68
   0455 00                  716 	.db 0x00
   0456                     717 ___str_15:
   0456 50 72 69 63 65 3A   718 	.ascii "Price: 1500$"
        20 31 35 30 30 24
   0462 00                  719 	.db 0x00
   0463                     720 ___str_16:
   0463 31 34 31 20 50      721 	.ascii "141 P"
   0468 00                  722 	.db 0x00
   0469                     723 ___str_17:
   0469 45 6E 74 72 79 20   724 	.ascii "Entry of service: 1942"
        6F 66 20 73 65 72
        76 69 63 65 3A 20
        31 39 34 32
   047F 00                  725 	.db 0x00
   0480                     726 ___str_18:
   0480 4D 61 78 69 6D 75   727 	.ascii "Maximum speed: 105 km/h"
        6D 20 73 70 65 65
        64 3A 20 31 30 35
        20 6B 6D 2F 68
   0497 00                  728 	.db 0x00
   0498                     729 ___str_19:
   0498 50 72 69 63 65 3A   730 	.ascii "Price: 2000$"
        20 32 30 30 30 24
   04A4 00                  731 	.db 0x00
                            732 ;src/game/depot.c:127: void buyLocomotive()
                            733 ;	---------------------------------
                            734 ; Function buyLocomotive
                            735 ; ---------------------------------
   04A5                     736 _buyLocomotive::
                            737 ;src/game/depot.c:129: u8 exit=0;
                            738 ;src/game/depot.c:131: u8 iSelect=0;
   04A5 01 00 00      [10]  739 	ld	bc,#0x0000
                            740 ;src/game/depot.c:133: drawAllLocomotives(iSelect);
   04A8 C5            [11]  741 	push	bc
   04A9 AF            [ 4]  742 	xor	a, a
   04AA F5            [11]  743 	push	af
   04AB 33            [ 6]  744 	inc	sp
   04AC CDr1Er02      [17]  745 	call	_drawAllLocomotives
   04AF 33            [ 6]  746 	inc	sp
   04B0 C1            [10]  747 	pop	bc
                            748 ;src/game/depot.c:135: do
   04B1                     749 00124$:
                            750 ;src/game/depot.c:137: cpct_scanKeyboard(); 
   04B1 C5            [11]  751 	push	bc
   04B2 CDr00r00      [17]  752 	call	_cpct_scanKeyboard
   04B5 21 00 01      [10]  753 	ld	hl,#0x0100
   04B8 CDr00r00      [17]  754 	call	_cpct_isKeyPressed
   04BB 7D            [ 4]  755 	ld	a,l
   04BC C1            [10]  756 	pop	bc
   04BD B7            [ 4]  757 	or	a, a
   04BE 28 24         [12]  758 	jr	Z,00122$
                            759 ;src/game/depot.c:141: if (iSelect>0)
   04C0 78            [ 4]  760 	ld	a,b
   04C1 B7            [ 4]  761 	or	a, a
   04C2 28 15         [12]  762 	jr	Z,00140$
                            763 ;src/game/depot.c:143: iSelect--;
   04C4 05            [ 4]  764 	dec	b
                            765 ;src/game/depot.c:144: drawLocomotive(iSelect, iSelect);
   04C5 C5            [11]  766 	push	bc
   04C6 C5            [11]  767 	push	bc
   04C7 33            [ 6]  768 	inc	sp
   04C8 C5            [11]  769 	push	bc
   04C9 33            [ 6]  770 	inc	sp
   04CA CDr89r00      [17]  771 	call	_drawLocomotive
   04CD F1            [10]  772 	pop	af
   04CE C1            [10]  773 	pop	bc
                            774 ;src/game/depot.c:145: drawLocomotive(iSelect+1, iSelect);
   04CF 50            [ 4]  775 	ld	d,b
   04D0 14            [ 4]  776 	inc	d
   04D1 C5            [11]  777 	push	bc
   04D2 4A            [ 4]  778 	ld	c, d
   04D3 C5            [11]  779 	push	bc
   04D4 CDr89r00      [17]  780 	call	_drawLocomotive
   04D7 F1            [10]  781 	pop	af
   04D8 C1            [10]  782 	pop	bc
                            783 ;src/game/depot.c:147: for(i=0; i<14000; i++) {} // wait loop
   04D9                     784 00140$:
   04D9 11 B0 36      [10]  785 	ld	de,#0x36B0
   04DC                     786 00129$:
   04DC 1B            [ 6]  787 	dec	de
   04DD 7A            [ 4]  788 	ld	a,d
   04DE B3            [ 4]  789 	or	a,e
   04DF 20 FB         [12]  790 	jr	NZ,00129$
   04E1 C3r56r05      [10]  791 	jp	00125$
   04E4                     792 00122$:
                            793 ;src/game/depot.c:149: else if ( cpct_isKeyPressed(Key_CursorDown) )
   04E4 C5            [11]  794 	push	bc
   04E5 21 00 04      [10]  795 	ld	hl,#0x0400
   04E8 CDr00r00      [17]  796 	call	_cpct_isKeyPressed
   04EB 7D            [ 4]  797 	ld	a,l
   04EC C1            [10]  798 	pop	bc
   04ED B7            [ 4]  799 	or	a, a
   04EE 28 24         [12]  800 	jr	Z,00119$
                            801 ;src/game/depot.c:151: if (iSelect<11)
   04F0 78            [ 4]  802 	ld	a,b
   04F1 D6 0B         [ 7]  803 	sub	a, #0x0B
   04F3 30 15         [12]  804 	jr	NC,00144$
                            805 ;src/game/depot.c:153: iSelect++;
   04F5 04            [ 4]  806 	inc	b
                            807 ;src/game/depot.c:154: drawLocomotive(iSelect, iSelect);
   04F6 C5            [11]  808 	push	bc
   04F7 C5            [11]  809 	push	bc
   04F8 33            [ 6]  810 	inc	sp
   04F9 C5            [11]  811 	push	bc
   04FA 33            [ 6]  812 	inc	sp
   04FB CDr89r00      [17]  813 	call	_drawLocomotive
   04FE F1            [10]  814 	pop	af
   04FF C1            [10]  815 	pop	bc
                            816 ;src/game/depot.c:155: drawLocomotive(iSelect-1, iSelect);
   0500 50            [ 4]  817 	ld	d,b
   0501 15            [ 4]  818 	dec	d
   0502 C5            [11]  819 	push	bc
   0503 4A            [ 4]  820 	ld	c, d
   0504 C5            [11]  821 	push	bc
   0505 CDr89r00      [17]  822 	call	_drawLocomotive
   0508 F1            [10]  823 	pop	af
   0509 C1            [10]  824 	pop	bc
                            825 ;src/game/depot.c:157: for(i=0; i<14000; i++) {} // wait loop
   050A                     826 00144$:
   050A 11 B0 36      [10]  827 	ld	de,#0x36B0
   050D                     828 00132$:
   050D 1B            [ 6]  829 	dec	de
   050E 7A            [ 4]  830 	ld	a,d
   050F B3            [ 4]  831 	or	a,e
   0510 20 FB         [12]  832 	jr	NZ,00132$
   0512 18 42         [12]  833 	jr	00125$
   0514                     834 00119$:
                            835 ;src/game/depot.c:159: else if ( cpct_isKeyPressed(Key_Return) )
   0514 C5            [11]  836 	push	bc
   0515 21 02 04      [10]  837 	ld	hl,#0x0402
   0518 CDr00r00      [17]  838 	call	_cpct_isKeyPressed
   051B 7D            [ 4]  839 	ld	a,l
   051C C1            [10]  840 	pop	bc
   051D B7            [ 4]  841 	or	a, a
   051E 28 28         [12]  842 	jr	Z,00116$
                            843 ;src/game/depot.c:161: if(iSelect<locDelocked)
   0520 21r00r00      [10]  844 	ld	hl,#_locDelocked
   0523 78            [ 4]  845 	ld	a,b
   0524 96            [ 7]  846 	sub	a, (hl)
   0525 30 17         [12]  847 	jr	NC,00149$
                            848 ;src/game/depot.c:163: if(confirmBuyLocomotive(iSelect) == 1)
   0527 C5            [11]  849 	push	bc
   0528 C5            [11]  850 	push	bc
   0529 33            [ 6]  851 	inc	sp
   052A CDr4Er02      [17]  852 	call	_confirmBuyLocomotive
   052D 33            [ 6]  853 	inc	sp
   052E C1            [10]  854 	pop	bc
   052F 2D            [ 4]  855 	dec	l
   0530 20 04         [12]  856 	jr	NZ,00108$
                            857 ;src/game/depot.c:164: exit=1;
   0532 0E 01         [ 7]  858 	ld	c,#0x01
   0534 18 08         [12]  859 	jr	00149$
   0536                     860 00108$:
                            861 ;src/game/depot.c:166: drawAllLocomotives(iSelect);
   0536 C5            [11]  862 	push	bc
   0537 C5            [11]  863 	push	bc
   0538 33            [ 6]  864 	inc	sp
   0539 CDr1Er02      [17]  865 	call	_drawAllLocomotives
   053C 33            [ 6]  866 	inc	sp
   053D C1            [10]  867 	pop	bc
                            868 ;src/game/depot.c:169: for(i=0; i<14000; i++) {} // wait loop
   053E                     869 00149$:
   053E 11 B0 36      [10]  870 	ld	de,#0x36B0
   0541                     871 00135$:
   0541 1B            [ 6]  872 	dec	de
   0542 7A            [ 4]  873 	ld	a,d
   0543 B3            [ 4]  874 	or	a,e
   0544 20 FB         [12]  875 	jr	NZ,00135$
   0546 18 0E         [12]  876 	jr	00125$
   0548                     877 00116$:
                            878 ;src/game/depot.c:171: else if ( cpct_isKeyPressed(Key_Esc) )
   0548 C5            [11]  879 	push	bc
   0549 21 08 04      [10]  880 	ld	hl,#0x0408
   054C CDr00r00      [17]  881 	call	_cpct_isKeyPressed
   054F 7D            [ 4]  882 	ld	a,l
   0550 C1            [10]  883 	pop	bc
   0551 B7            [ 4]  884 	or	a, a
   0552 28 02         [12]  885 	jr	Z,00125$
                            886 ;src/game/depot.c:172: exit=1;
   0554 0E 01         [ 7]  887 	ld	c,#0x01
   0556                     888 00125$:
                            889 ;src/game/depot.c:174: while(!exit);
   0556 79            [ 4]  890 	ld	a,c
   0557 B7            [ 4]  891 	or	a, a
   0558 CArB1r04      [10]  892 	jp	Z,00124$
                            893 ;src/game/depot.c:176: putM2();
   055B C3r00r00      [10]  894 	jp  _putM2
                            895 	.area _CODE
                            896 	.area _INITIALIZER
                            897 	.area _CABS (ABS)
